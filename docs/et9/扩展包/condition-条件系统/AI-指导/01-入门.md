# Condition 条件系统 - 入门指南

## 包信息

- **对应包**: `cn.etetet.yiuicondition`
- **依赖**: Luban 配置解决方案、YIUIInvoke

## 系统架构

### 核心组件

1. **ConditionMgr** - 条件管理器
   - 添加条件检查监听
   - 执行条件检查

2. **ICondition** - 条件接口
   - 自定义条件逻辑

3. **ConditionAttribute** - 条件特性
   - 用于标记条件类型

4. **ConditionInfo** - 条件信息
   - 存储条件配置数据

## 快速开始

### 步骤 1: 安装

从 .Template 文件夹复制 config 包到 Packages 目录

### 步骤 2: 挂载组件

```csharp
// 在 Scene 或 Entity 上挂载
scene.AddComponent<ConditionMgr>();
```

### 步骤 3: 添加条件检查监听

```csharp
scene.AddCheckConditionGroupListener((conditionId, callback) =>
{
    // 处理条件检查
    callback?.Invoke(true);
});
```

### 步骤 4: 执行条件检查

```csharp
var result = await scene.CheckCondition(conditionId);
```

## 使用场景

### 场景 1: 功能解锁

```csharp
// 检查功能是否解锁
public async ETTask<bool> CheckFeatureUnlock(int featureId)
{
    return await scene.CheckCondition(featureId);
}
```

### 场景 2: 任务条件

```csharp
// 检查任务前置条件
public async ETTask<bool> CheckTaskCondition(long taskId)
{
    return await scene.CheckCondition(taskId);
}
```

### 场景 3: UI 显示条件

```csharp
// 检查红点显示条件
public async ETTask<bool> CheckRedDotCondition(string redDotKey)
{
    return await scene.CheckCondition(redDotKey);
}
```
