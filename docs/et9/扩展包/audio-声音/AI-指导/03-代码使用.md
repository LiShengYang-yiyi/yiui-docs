# Audio 声音 - 代码使用

> 本文档介绍 Audio 系统的各种使用方法，向 AI 咨询时可参考此文档

## 目录

1. [资源加载](./01-入门.md) - 如何加载音频资源
2. [配置读取](./02-配置.md) - 如何读取音频配置
3. [播放控制](./03-播放控制.md) - 控制音频播放/暂停/停止
4. [BGM管理](./04-BGM管理.md) - 背景音乐管理
5. [音效管理](./05-音效管理.md) - UI/战斗音效管理
6. [3D音效](./06-3D音效.md) - 空间音效实现
7. [音量控制](./07-音量控制.md) - 全局音量/渐变

---

## 3. 播放控制

### 播放音频

```csharp
// 播放 AudioClip
audioSource.Play();

// 播放一次
audioSource.PlayOneShot(clip);
```

### 暂停/停止

```csharp
// 暂停
audioSource.Pause();

// 停止
audioSource.Stop();

// 继续播放
audioSource.UnPause();
```

### 循环播放

```csharp
// 设置循环
audioSource.loop = true;

// 停止循环
audioSource.loop = false;
```

---

## 4. BGM管理

### 场景 BGM 切换

```csharp
// 登录 BGM
YIUIInvoke.LoadAudioClipAsync("login_bgm");

// 战斗 BGM
YIUIInvoke.LoadAudioClipAsync("battle_bgm");

// 主城 BGM
YIUIInvoke.LoadAudioClipAsync("city_bgm");
```

### BGM 淡入淡出

```csharp
// 渐变音量实现
AudioSourceFadeHelper.FadeTo(bgmSource, targetVolume, duration);
```

---

## 5. 音效管理

### UI 音效

```csharp
// 点击音效
PlayUISound("ui_click");

// 获得道具音效
PlayUISound("get_item");

// 升级音效
PlayUISound("level_up");
```

### 战斗音效

```csharp
// 攻击音效
PlaySFX("attack");

// 暴击音效
PlaySFX("crit");

// 技能音效
PlaySFX("skill_fire");
```

---

## 6. 3D音效

### 设置空间音频

```csharp
// 3D 模式
audioSource.spatialBlend = 1.0f;

// 2D 模式
audioSource.spatialBlend = 0.0f;
```

### 设置衰减距离

```csharp
// 最小衰减距离
audioSource.minDistance = 1.0f;

// 最大衰减距离
audioSource.maxDistance = 10.0f;
```

---

## 7. 音量控制

### 全局音量

```csharp
// 设置 BGM 音量
AudioManager.SetBGMVolume(0.8f);

// 设置音效音量
AudioManager.SetSFXVolume(1.0f);

// 静音
AudioManager.Mute(true);
```

### 渐变音量

```csharp
// 渐变到目标音量
AudioSourceFadeHelper.FadeTo(source, 0f, 2f);
```
