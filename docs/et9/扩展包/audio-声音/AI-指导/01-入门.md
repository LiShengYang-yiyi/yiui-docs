# Audio 声音 - 入门指南

## 包信息

- **对应包**: `cn.etetet.yiuiaudio`
- **依赖**: Luban 配置解决方案、YooAssets、YIUIInvoke

## 系统架构

Audio 系统基于 Unity AudioClip，分为以下核心概念：

### 1. AudioConfig 音频配置

通过 Luban 配置表管理，每个配置包含：
- `SoundKey` - 音频分组 Key
- `AudioClipNames` - 音频资源名称列表
- `Volume` - 音量大小
- `EmitterCount` - 同时播放数量
- `SpatialBlend` - 2D/3D 混合比例（0=纯2D，1=纯3D）
- `DistanceMin` / `DistanceMax` - 3D 衰减距离
- `IntervalTimeMin` / `IntervalTimeMax` - 播放间隔
- `NextTimeMin` / `NextTimeMax` - 下次播放时间

### 2. 资源加载

通过 YIUIInvoke 系统加载音频资源：
- `YIUIInvokeLoadAudioClip` - 加载 AudioClip
- `YIUIInvokeGetAudioConfig` - 获取音频配置

## 快速开始

### 步骤 1: 安装依赖

确保已安装以下包：
- cn.etetet.yiuiluban
- YooAssets
- cn.etetet.yiuiinvoke
- cn.etetet.yiuiframespace

### 步骤 2: 配置 Audio 表

在 Luban 配置表中添加 audio 表，字段参考 IAudioConfig 接口。

### 步骤 3: YooAsset 设置

在 YooAsset 中添加对应的音频组：
- 创建音频组
- 添加音频资源
- 设置加载方式

### 步骤 4: 编写代码

```csharp
// 异步加载音频
var audioClip = await YIUIInvoke.LoadAudioClipAsync("audio_path");

// 获取配置
var config = YIUIInvoke.GetAudioConfig("config_name");
```

## 常见使用场景

### 场景 1: 登录界面播放 BGM

```csharp
// 在 LoginPanel 打开时播放
public async ETTask OnOpen()
{
    var bgmConfig = YIUIInvoke.GetAudioConfig("Login_BGM");
    if (bgmConfig != null)
    {
        // 播放 BGM
    }
}
```

### 场景 2: 播放 UI 音效

```csharp
// 点击按钮时播放音效
public void OnClick()
{
    _ = YIUIInvoke.LoadAudioClipAsync("ui_click");
}
```

### 场景 3: 3D 空间音效

```csharp
// 为 3D 物体设置空间音效
var config = YIUIInvoke.GetAudioConfig("3D_Attack");
config.SetSpatialBlend(1.0f);  // 纯 3D
config.SetDistanceMin(1.0f);
config.SetDistanceMax(10.0f);
```

## 相关文档

- [配置枚举自动生成](../配置枚举自动生成.md)
- [可视化扩展](../audio-声音-可视化扩展.md)
- [快速入门](../快速入门.md)
