# Luban 配置解决方案 - 故障排查

## 常见问题

### 问题 1: 配置加载失败

**症状**: 运行时配置为 null

**排查**:

1. **检查导出**
```bash
# 确保已导出配置
Luban.Program.Main(new[] { "-c", "config" });
```

2. **检查代码生成**
```csharp
// 确保生成了配置类
var count = CharacterConfigCategory.Instance.GetAll().Count;
```

3. **检查数据文件**
```csharp
// 检查数据文件是否存在
var dataPath = "xxx.bytes";
if (!File.Exists(dataPath))
{
    Log.Error($"配置文件不存在: {dataPath}");
}
```

---

### 问题 2: 类型不匹配

**症状**: 运行时抛出异常

**排查**:

1. **检查 Excel 类型定义**
```
| Id | Name | Level |
|----|------|-------|
| int | string | int |
```

2. **检查 C# 类型**
```csharp
public class CharacterConfig
{
    public int Id;
    public string Name;
    public int Level;
}
```

---

### 问题 3: 导出报错

**排查**:

1. **检查 Excel 格式**
2. **检查类型定义**
3. **查看错误日志**

---

### 问题 4: 枚举值不识别

**症状**: 枚举类型读取错误

**解决方案**:

在 Luban 中正确配置枚举：
```
| Job  |
| int  |
| 1=战士 |
| 2=法师 |
```

生成枚举类后使用
