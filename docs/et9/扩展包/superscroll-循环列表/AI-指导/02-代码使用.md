# SuperScroll 循环列表 - 代码使用

> 本文档介绍 SuperScroll 循环列表的使用方法，向 AI 咨询时可参考此文档

## 目录

1. [基础用法](./01-入门.md) - 快速开始
2. [列表初始化](./02-列表初始化.md) - 创建和配置列表
3. [数据刷新](./03-数据刷新.md) - 更新列表数据
4. [滚动控制](./04-滚动控制.md) - 滚动到指定位置
5. [布局类型](./05-布局类型.md) - 不同布局方式
6. [性能优化](./06-性能优化.md) - 大数据量优化

---

## 2. 列表初始化

### 创建列表

```csharp
// 获取组件
var scrollRect = gameObject.GetComponent<LoopScrollRect>();
```

### 设置数据源

```csharp
// 设置预制体源
scrollRect.prefabSource = prefabSource;

// 设置总量
scrollRect.totalCount = dataList.Count;
```

### 刷新显示

```csharp
// 刷新所有
scrollRect.RefillCells();

// 从指定位置刷新
scrollRect.RefillCells(startIndex);
```

---

## 3. 数据刷新

### 刷新单个

```csharp
// 刷新指定项
scrollRect.RefillOneItem(index);
```

### 更新数据

```csharp
// 更新数据后刷新
dataList[index] = newData;
scrollRect.RefillOneItem(index);
```

### 添加数据

```csharp
// 插入数据
dataList.Insert(index, newData);
scrollRect.InsertCell(index);
```

### 删除数据

```csharp
// 删除数据
dataList.RemoveAt(index);
scrollRect.DeleteCell(index);
```

---

## 4. 滚动控制

### 滚动到位置

```csharp
// 滚动到指定项
scrollRect.ScrollToCell(index);

// 平滑滚动
scrollRect.SmoothScrollTo(index, duration);
```

### 滚动到顶部/底部

```csharp
// 滚动到顶部
scrollRect.ScrollToTop();

// 滚动到底部
scrollRect.ScrollToBottom();
```

### 获取位置

```csharp
// 获取当前可见范围
var (start, end) = scrollRect.GetVisibleRange();
```

---

## 5. 布局类型

### 垂直列表

```csharp
// 垂直布局
scrollRect.direction = LoopScrollDirection.Vertical;
```

### 水平列表

```csharp
// 水平布局
scrollRect.direction = LoopScrollDirection.Horizontal;
```

### 网格布局

```csharp
// 网格布局
scrollRect.gridLayout = true;
scrollRect.columns = 3;
```

### 瀑布流

```csharp
// 瀑布流布局
scrollRect.layoutType = LayoutType.Waterfall;
```

---

## 6. 性能优化

### 预加载

```csharp
// 预加载数量
scrollRect.preloadThreshold = 5;
```

### 可见区域优化

```csharp
// 设置缓存区
scrollRect.cacheExtend = 2;
```

### 禁用渲染优化

```csharp
// 非可见项禁用渲染
scrollRect.disableOffScreenRendering = true;
```
